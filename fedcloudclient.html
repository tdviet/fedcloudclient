

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FedCloud client API references &mdash; fedcloudclient  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ and Troubleshooting" href="FAQ.html" />
    <link rel="prev" title="Using FedCloud client in scripts" href="scripts.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/fedcloudclient-logo-non-transparent-small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Using FedCloud client in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Using FedCloud client in scripts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FedCloud client API references</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-fedcloudclient.checkin">fedcloudclient.checkin module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.checkin.check_token"><code class="docutils literal notranslate"><span class="pre">check_token()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.checkin.decode_token"><code class="docutils literal notranslate"><span class="pre">decode_token()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.checkin.get_access_token"><code class="docutils literal notranslate"><span class="pre">get_access_token()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.checkin.get_checkin_id"><code class="docutils literal notranslate"><span class="pre">get_checkin_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.checkin.get_token_from_mytoken_server"><code class="docutils literal notranslate"><span class="pre">get_token_from_mytoken_server()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.checkin.get_token_from_oidc_agent"><code class="docutils literal notranslate"><span class="pre">get_token_from_oidc_agent()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.checkin.oidc_discover"><code class="docutils literal notranslate"><span class="pre">oidc_discover()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.checkin.print_error"><code class="docutils literal notranslate"><span class="pre">print_error()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.checkin.token_list_vos"><code class="docutils literal notranslate"><span class="pre">token_list_vos()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-fedcloudclient.endpoint">fedcloudclient.endpoint module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.TokenException"><code class="docutils literal notranslate"><span class="pre">TokenException</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.find_endpoint"><code class="docutils literal notranslate"><span class="pre">find_endpoint()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.format_project_as_dict"><code class="docutils literal notranslate"><span class="pre">format_project_as_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.format_project_as_list"><code class="docutils literal notranslate"><span class="pre">format_project_as_list()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.get_keystone_url"><code class="docutils literal notranslate"><span class="pre">get_keystone_url()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.get_projects_from_single_site"><code class="docutils literal notranslate"><span class="pre">get_projects_from_single_site()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.get_projects_from_sites"><code class="docutils literal notranslate"><span class="pre">get_projects_from_sites()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.get_projects_from_sites_as_dict"><code class="docutils literal notranslate"><span class="pre">get_projects_from_sites_as_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.get_projects_from_sites_as_list"><code class="docutils literal notranslate"><span class="pre">get_projects_from_sites_as_list()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.get_projects_from_sites_with_format"><code class="docutils literal notranslate"><span class="pre">get_projects_from_sites_with_format()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.get_scoped_token"><code class="docutils literal notranslate"><span class="pre">get_scoped_token()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.get_sites"><code class="docutils literal notranslate"><span class="pre">get_sites()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.get_unscoped_token"><code class="docutils literal notranslate"><span class="pre">get_unscoped_token()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.endpoint.retrieve_unscoped_token"><code class="docutils literal notranslate"><span class="pre">retrieve_unscoped_token()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-fedcloudclient.sites">fedcloudclient.sites module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.sites.delete_site_config"><code class="docutils literal notranslate"><span class="pre">delete_site_config()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.sites.find_endpoint_and_project_id"><code class="docutils literal notranslate"><span class="pre">find_endpoint_and_project_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.sites.find_site_data"><code class="docutils literal notranslate"><span class="pre">find_site_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.sites.find_vo_from_project_id"><code class="docutils literal notranslate"><span class="pre">find_vo_from_project_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.sites.list_sites"><code class="docutils literal notranslate"><span class="pre">list_sites()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.sites.read_default_site_config"><code class="docutils literal notranslate"><span class="pre">read_default_site_config()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.sites.read_local_site_config"><code class="docutils literal notranslate"><span class="pre">read_local_site_config()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.sites.read_site_config"><code class="docutils literal notranslate"><span class="pre">read_site_config()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.sites.read_site_schema"><code class="docutils literal notranslate"><span class="pre">read_site_schema()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.sites.safe_read_yaml_from_url"><code class="docutils literal notranslate"><span class="pre">safe_read_yaml_from_url()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.sites.save_site_config"><code class="docutils literal notranslate"><span class="pre">save_site_config()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-fedcloudclient.openstack">fedcloudclient.openstack module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.openstack.check_openstack_client_installation"><code class="docutils literal notranslate"><span class="pre">check_openstack_client_installation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.openstack.fedcloud_openstack"><code class="docutils literal notranslate"><span class="pre">fedcloud_openstack()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.openstack.fedcloud_openstack_full"><code class="docutils literal notranslate"><span class="pre">fedcloud_openstack_full()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fedcloudclient.openstack.print_result"><code class="docutils literal notranslate"><span class="pre">print_result()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-fedcloudclient.cli">fedcloudclient.cli module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ and Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="cheat.html">Cheat sheet</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">fedcloudclient</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">FedCloud client API references</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/tdviet/fedcloudclient/blob/master/docs/fedcloudclient.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fedcloud-client-api-references">
<h1>FedCloud client API references<a class="headerlink" href="#fedcloud-client-api-references" title="Link to this heading"></a></h1>
<section id="module-fedcloudclient.checkin">
<span id="fedcloudclient-checkin-module"></span><h2>fedcloudclient.checkin module<a class="headerlink" href="#module-fedcloudclient.checkin" title="Link to this heading"></a></h2>
<p>Implementation of &quot;fedcloud token&quot; commands for interactions with EGI Check-in and
access tokens</p>
<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.checkin.check_token">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></span><span class="sig-name descname"><span class="pre">check_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#check_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.check_token" title="Link to this definition"></a></dt>
<dd><p>Check validity of access token</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verbose</strong></p></li>
<li><p><strong>oidc_token</strong> -- the token to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>access token, or None on error</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.checkin.decode_token">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></span><span class="sig-name descname"><span class="pre">decode_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#decode_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.decode_token" title="Link to this definition"></a></dt>
<dd><p>Decoding access token to a dict
:param oidc_access_token:
:return: dict with token info</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.checkin.get_access_token">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></span><span class="sig-name descname"><span class="pre">get_access_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_agent_account</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mytoken</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mytoken_server</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#get_access_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.get_access_token" title="Link to this definition"></a></dt>
<dd><p>Get access token
Generates new access token from oidc-agent
or mytoken</p>
<p>Check expiration time of access token
Raise error if no valid token exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oidc_access_token</strong></p></li>
<li><p><strong>oidc_agent_account</strong></p></li>
<li><p><strong>mytoken</strong></p></li>
<li><p><strong>mytoken_server</strong></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>access token</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.checkin.get_checkin_id">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></span><span class="sig-name descname"><span class="pre">get_checkin_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#get_checkin_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.get_checkin_id" title="Link to this definition"></a></dt>
<dd><p>Get EGI Check-in ID from access token</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>oidc_token</strong> -- the token</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Check-in ID</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.checkin.get_token_from_mytoken_server">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></span><span class="sig-name descname"><span class="pre">get_token_from_mytoken_server</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mytoken</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mytoken_server</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#get_token_from_mytoken_server"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.get_token_from_mytoken_server" title="Link to this definition"></a></dt>
<dd><p>Get access token from mytoken server
:param quiet:
:param mytoken:
:param mytoken_server:
:return: access token, or None on error</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.checkin.get_token_from_oidc_agent">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></span><span class="sig-name descname"><span class="pre">get_token_from_oidc_agent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_agent_account</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#get_token_from_oidc_agent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.get_token_from_oidc_agent" title="Link to this definition"></a></dt>
<dd><p>Get access token from oidc-agent
:param quiet:
:param oidc_agent_account: account name in oidc-agent
:return: access token, or None on error</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.checkin.oidc_discover">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></span><span class="sig-name descname"><span class="pre">oidc_discover</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#oidc_discover"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.oidc_discover" title="Link to this definition"></a></dt>
<dd><p>Discover OIDC endpoints</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>oidc_url</strong> -- CheckIn URL</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>JSON object of OIDC configuration</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.checkin.print_error">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></span><span class="sig-name descname"><span class="pre">print_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#print_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.print_error" title="Link to this definition"></a></dt>
<dd><p>Print error message to stderr if not quiet</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.checkin.token_list_vos">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></span><span class="sig-name descname"><span class="pre">token_list_vos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#token_list_vos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.token_list_vos" title="Link to this definition"></a></dt>
<dd><p>List VO memberships in EGI Check-in</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>oidc_access_token</strong></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of VO names</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fedcloudclient.endpoint">
<span id="fedcloudclient-endpoint-module"></span><h2>fedcloudclient.endpoint module<a class="headerlink" href="#module-fedcloudclient.endpoint" title="Link to this heading"></a></h2>
<p>&quot;fedcloud endpoint&quot; commands are complementary part of the &quot;fedcloud site&quot; commands.</p>
<p>Instead of using site configurations defined in files saved in GitHub repository or
local disk, the commands try to get site information directly from GOCDB
(Grid Operations Configuration Management Database) <a class="reference external" href="https://goc.egi.eu/">https://goc.egi.eu/</a> or make probe
test on sites</p>
<dl class="py exception">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.TokenException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">TokenException</span></span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#TokenException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.TokenException" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Exception for Token related errors</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.find_endpoint">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">find_endpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">service_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">production</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monitored</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#find_endpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.find_endpoint" title="Link to this definition"></a></dt>
<dd><p>Searching GOCDB for endpoints according to service types and status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service_type</strong></p></li>
<li><p><strong>production</strong></p></li>
<li><p><strong>monitored</strong></p></li>
<li><p><strong>site</strong> -- list of sites, None for searching all sites</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of endpoints</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.format_project_as_dict">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">format_project_as_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#format_project_as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.format_project_as_dict" title="Link to this definition"></a></dt>
<dd><p>Format project data as a dictionary</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.format_project_as_list">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">format_project_as_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#format_project_as_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.format_project_as_list" title="Link to this definition"></a></dt>
<dd><p>Format project data as a list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.get_keystone_url">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">get_keystone_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_auth_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_keystone_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_keystone_url" title="Link to this definition"></a></dt>
<dd><p>Helper function for fixing Keystone URL</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.get_projects_from_single_site">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">get_projects_from_single_site</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_auth_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unscoped_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_projects_from_single_site"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_projects_from_single_site" title="Link to this definition"></a></dt>
<dd><p>Get list of projects from unscoped token</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.get_projects_from_sites">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">get_projects_from_sites</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_projects_from_sites"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_projects_from_sites" title="Link to this definition"></a></dt>
<dd><p>Get all projects from site(s) using access token, in the default output format (list)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.get_projects_from_sites_as_dict">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">get_projects_from_sites_as_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_projects_from_sites_as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_projects_from_sites_as_dict" title="Link to this definition"></a></dt>
<dd><p>Get all projects from site(s) using access token, as a dictionary</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.get_projects_from_sites_as_list">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">get_projects_from_sites_as_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_projects_from_sites_as_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_projects_from_sites_as_list" title="Link to this definition"></a></dt>
<dd><p>Get all projects from site(s) using access token, as a list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.get_projects_from_sites_with_format">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">get_projects_from_sites_with_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_format_function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_projects_from_sites_with_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_projects_from_sites_with_format" title="Link to this definition"></a></dt>
<dd><p>Get all projects from site(s) using access token</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.get_scoped_token">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">get_scoped_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_auth_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_scoped_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_scoped_token" title="Link to this definition"></a></dt>
<dd><p>Get a scoped token, will try all protocols if needed</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.get_sites">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">get_sites</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_sites"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_sites" title="Link to this definition"></a></dt>
<dd><p>Get list of sites (using GOCDB instead of site configuration)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of site IDs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.get_unscoped_token">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">get_unscoped_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_auth_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_unscoped_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_unscoped_token" title="Link to this definition"></a></dt>
<dd><p>Get an unscoped token, will try all protocols if needed</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.endpoint.retrieve_unscoped_token">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></span><span class="sig-name descname"><span class="pre">retrieve_unscoped_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_auth_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'openid'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#retrieve_unscoped_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.retrieve_unscoped_token" title="Link to this definition"></a></dt>
<dd><p>Request an unscoped token</p>
</dd></dl>

</section>
<section id="module-fedcloudclient.sites">
<span id="fedcloudclient-sites-module"></span><h2>fedcloudclient.sites module<a class="headerlink" href="#module-fedcloudclient.sites" title="Link to this heading"></a></h2>
<p>&quot;fedcloud site&quot; commands will read site configurations and manipulate with them. If
the local site configurations exist at ~/.config/fedcloud/site-config/, fedcloud will
read them from there, otherwise the commands will read from GitHub repository.</p>
<p>By default, fedcloud does not save anything on local disk, users have to save the
site configuration to local disk explicitly via &quot;fedcloud site save-config&quot; command.
The advantage of having local site configurations, beside faster loading, is to give
users ability to make customizations, e.g. add additional VOs, remove sites they
do not have access, and so on.</p>
<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.sites.delete_site_config">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></span><span class="sig-name descname"><span class="pre">delete_site_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#delete_site_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.delete_site_config" title="Link to this definition"></a></dt>
<dd><p>Delete site configs to local directory specified in config_dir</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config_dir</strong> -- path to directory containing site configuration</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.sites.find_endpoint_and_project_id">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></span><span class="sig-name descname"><span class="pre">find_endpoint_and_project_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vo</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#find_endpoint_and_project_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.find_endpoint_and_project_id" title="Link to this definition"></a></dt>
<dd><p>Return Keystone endpoint and project ID from site name and VO according
to site configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>site_name</strong> -- site ID in GOCDB</p></li>
<li><p><strong>vo</strong> -- VO name or None to find site endpoint only</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>endpoint, project_id, protocol if the VO has access to the site,
otherwise None, None, None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.sites.find_site_data">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></span><span class="sig-name descname"><span class="pre">find_site_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#find_site_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.find_site_data" title="Link to this definition"></a></dt>
<dd><p>Return configuration of the correspondent site with site_name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>site_name</strong> -- site ID in GOCDB</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>configuration of site if found, otherwise None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.sites.find_vo_from_project_id">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></span><span class="sig-name descname"><span class="pre">find_vo_from_project_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#find_vo_from_project_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.find_vo_from_project_id" title="Link to this definition"></a></dt>
<dd><p>Return the VO name form the project ID and site_name according
to site configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>site_name</strong> -- site ID in GOCDB</p></li>
<li><p><strong>project_id</strong> -- project_id configured to support the VO</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>vo if the VO is configured, otherwise None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.sites.list_sites">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></span><span class="sig-name descname"><span class="pre">list_sites</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#list_sites"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.list_sites" title="Link to this definition"></a></dt>
<dd><p>List all sites IDs in site configurations
Optionally list all sites supporting a Virtual Organization</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of site IDs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.sites.read_default_site_config">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></span><span class="sig-name descname"><span class="pre">read_default_site_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#read_default_site_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.read_default_site_config" title="Link to this definition"></a></dt>
<dd><p>Read default site configurations from GitHub
Storing site configurations in a global variable that will be used by other functions</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.sites.read_local_site_config">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></span><span class="sig-name descname"><span class="pre">read_local_site_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#read_local_site_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.read_local_site_config" title="Link to this definition"></a></dt>
<dd><p>Read site configurations from local directory specified in config_dir
Storing site configurations in global variable, that will be used by other functions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config_dir</strong> -- path to directory containing site configuration</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.sites.read_site_config">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></span><span class="sig-name descname"><span class="pre">read_site_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#read_site_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.read_site_config" title="Link to this definition"></a></dt>
<dd><p>Read site configurations from local config dir if exist, otherwise from default
GitHub location. Storing site configurations in global variable, that will be
used by other functions. Call read_local_site_config()
or read_default_site_config()</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.sites.read_site_schema">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></span><span class="sig-name descname"><span class="pre">read_site_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#read_site_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.read_site_schema" title="Link to this definition"></a></dt>
<dd><p>Read schema.json for validating site configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>JSON object from schema.json</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.sites.safe_read_yaml_from_url">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></span><span class="sig-name descname"><span class="pre">safe_read_yaml_from_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#safe_read_yaml_from_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.safe_read_yaml_from_url" title="Link to this definition"></a></dt>
<dd><p>Safe reading from URL
Check URL and size before reading</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong></p></li>
<li><p><strong>max_length</strong></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>data from URL</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.sites.save_site_config">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></span><span class="sig-name descname"><span class="pre">save_site_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#save_site_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.save_site_config" title="Link to this definition"></a></dt>
<dd><p>Save site configs to local directory specified in config_dir
Overwrite local configs if exist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config_dir</strong> -- path to directory containing site configuration</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fedcloudclient.openstack">
<span id="fedcloudclient-openstack-module"></span><h2>fedcloudclient.openstack module<a class="headerlink" href="#module-fedcloudclient.openstack" title="Link to this heading"></a></h2>
<p>Implementation of &quot;fedcloud openstack&quot; or &quot;fedcloud openstack-int&quot; for performing
OpenStack commands on sites</p>
<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.openstack.check_openstack_client_installation">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.openstack.</span></span><span class="sig-name descname"><span class="pre">check_openstack_client_installation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/openstack.html#check_openstack_client_installation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.openstack.check_openstack_client_installation" title="Link to this definition"></a></dt>
<dd><p>Check if openstack command-line client is installed and available via $PATH</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if available</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.openstack.fedcloud_openstack">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.openstack.</span></span><span class="sig-name descname"><span class="pre">fedcloud_openstack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">openstack_command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/openstack.html#fedcloud_openstack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.openstack.fedcloud_openstack" title="Link to this definition"></a></dt>
<dd><p>Simplified version of fedcloud_openstack_full() using
default EGI setting for identity provider and protocols
Calls OpenStack CLI with default options for EGI Check-in</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oidc_access_token</strong> -- Checkin access token.
Passed to openstack client as --os-access-token</p></li>
<li><p><strong>site</strong> -- site ID in GOCDB</p></li>
<li><p><strong>vo</strong> -- VO name</p></li>
<li><p><strong>openstack_command</strong> -- OpenStack command in tuple,
e.g. (&quot;image&quot;, &quot;list&quot;, &quot;--long&quot;)</p></li>
<li><p><strong>json_output</strong> -- if result is JSON object or string. Default:True</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>error code, result or error message</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.openstack.fedcloud_openstack_full">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.openstack.</span></span><span class="sig-name descname"><span class="pre">fedcloud_openstack_full</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">openstack_auth_protocol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">openstack_auth_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkin_identity_provider</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">openstack_command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/openstack.html#fedcloud_openstack_full"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.openstack.fedcloud_openstack_full" title="Link to this definition"></a></dt>
<dd><p>Calling openstack client with full options specified, including support
for other identity providers and protocols</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oidc_access_token</strong> -- Checkin access token. Passed to openstack client
as --os-access-token</p></li>
<li><p><strong>openstack_auth_protocol</strong> -- Checkin protocol (openid, oidc). Passed to
openstack client as --os-protocol</p></li>
<li><p><strong>openstack_auth_type</strong> -- Checkin authentication type (v3oidcaccesstoken).
Passed to openstack client as --os-auth-type</p></li>
<li><p><strong>checkin_identity_provider</strong> -- Checkin identity provider in mapping (egi.eu).
Passed to openstack client as --os-identity-provider</p></li>
<li><p><strong>site</strong> -- site ID in GOCDB</p></li>
<li><p><strong>vo</strong> -- VO name</p></li>
<li><p><strong>openstack_command</strong> -- OpenStack command in tuple,
e.g. (&quot;image&quot;, &quot;list&quot;, &quot;--long&quot;)</p></li>
<li><p><strong>json_output</strong> -- if result is JSON object or string. Default:True</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>error code, result or error message</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fedcloudclient.openstack.print_result">
<span class="sig-prename descclassname"><span class="pre">fedcloudclient.openstack.</span></span><span class="sig-name descname"><span class="pre">print_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_missing_vo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/openstack.html#print_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.openstack.print_result" title="Link to this definition"></a></dt>
<dd><p>Print output from an OpenStack command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>site</strong></p></li>
<li><p><strong>vo</strong></p></li>
<li><p><strong>command</strong></p></li>
<li><p><strong>exc_msg</strong></p></li>
<li><p><strong>error_code</strong></p></li>
<li><p><strong>result</strong></p></li>
<li><p><strong>json_output</strong></p></li>
<li><p><strong>ignore_missing_vo</strong></p></li>
<li><p><strong>first</strong></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fedcloudclient.cli">
<span id="fedcloudclient-cli-module"></span><h2>fedcloudclient.cli module<a class="headerlink" href="#module-fedcloudclient.cli" title="Link to this heading"></a></h2>
<p>Main CLI module</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="scripts.html" class="btn btn-neutral float-left" title="Using FedCloud client in scripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="FAQ.html" class="btn btn-neutral float-right" title="FAQ and Troubleshooting" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Viet Tran.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
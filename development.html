<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using fedcloudclient in Python &mdash; fedcloudclient  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Using fedcloudclient in scripts" href="scripts.html" />
    <link rel="prev" title="Usage" href="usage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/fedcloudclient-logo-non-transparent-small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using fedcloudclient in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Using fedcloudclient in scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="fedcloudclient.html">fedcloudclient API references</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ and Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="cheat.html">Cheat sheet</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">fedcloudclient</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Using fedcloudclient in Python</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/tdviet/fedcloudclient/blob/master/docs/development.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-fedcloudclient-in-python">
<h1>Using fedcloudclient in Python<a class="headerlink" href="#using-fedcloudclient-in-python" title="Permalink to this headline">ÔÉÅ</a></h1>
<p>fedcloudclient can be used as a library for developing other services and tools for EGI Federated Cloud. Most of
functionalities of fedcloudclient can be called directly from other codes without side effects. An example of the code
using fedcloud client is available at <a class="reference external" href="https://github.com/tdviet/fedcloudclient/blob/master/examples/demo.py">GitHub</a>.
Just copy/download the code, add your access token and execute <em>&quot;python demo.py&quot;</em> to see how it works.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import fedcloudclient library</span>
<span class="kn">from</span> <span class="nn">fedcloudclient.openstack</span> <span class="kn">import</span> <span class="n">fedcloud_openstack</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="c1"># Setting values for input parameters: token, site, VO</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">&quot;YOUR_ACCESS_TOKEN&quot;</span>
<span class="n">site</span> <span class="o">=</span> <span class="s2">&quot;CYFRONET-CLOUD&quot;</span>
<span class="n">vo</span> <span class="o">=</span> <span class="s2">&quot;fedcloud.egi.eu&quot;</span>

<span class="c1"># OpenStack command and options. Must be a tuple</span>
<span class="n">command</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span> <span class="s2">&quot;--long&quot;</span><span class="p">)</span>

<span class="c1"># Execute the OpenStack command on the site/VO with single line of code</span>
<span class="c1"># If command finishes correctly, the error_code is 0 and the result is stored</span>
<span class="c1"># in JSON object for easy processing</span>

<span class="n">error_code</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="n">fedcloud_openstack</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">vo</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>

<span class="c1"># Check error code and print the result if OK</span>
<span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># If error, result is string containing error message</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error message is </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>Read the <a class="reference external" href="https://fedcloudclient.fedcloud.eu/fedcloudclient.html">fedcloudclient API references</a>
for more details about each function in fedcloudclient library. Check the output of the equivalent command of
fedcloudclient and its source code to see how the function is used.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="usage.html" class="btn btn-neutral float-left" title="Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scripts.html" class="btn btn-neutral float-right" title="Using fedcloudclient in scripts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Viet Tran.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>